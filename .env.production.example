# === CONFIGURACIÓN DE PRODUCCIÓN DASHBOARD CLÍNICA ===
# Copiar este archivo como .env y configurar valores de producción

# === PUERTOS DE SERVICIOS ===
FRONTEND_CLIENT_PORT=60521
BACKEND_API_PORT=60522
ADMIN_FRONTEND_PORT=60523

# === BASE DE DATOS ===
# MongoDB (contenedor existente abf54630e862)
MONGODB_URL=mongodb://host.docker.internal:60516/clinic_dashboard_prod
DATABASE_NAME=clinic_dashboard_prod
DATABASE_POOL_SIZE=20

# === SEGURIDAD - CAMBIAR OBLIGATORIAMENTE EN PRODUCCIÓN ===
# Generar claves seguras con: openssl rand -hex 32
ADMIN_SECRET_KEY=CAMBIAR-POR-CLAVE-SEGURA-ADMIN-32-CARACTERES
API_SECRET_KEY=CAMBIAR-POR-CLAVE-SEGURA-API-32-CARACTERES
JWT_SECRET_KEY=CAMBIAR-POR-JWT-SECRET-ULTRA-SEGURO-32-CHARS

# === URLs DE PRODUCCIÓN ===
# Cambiar TU-SERVIDOR-IP por la IP real del servidor
VITE_API_URL=http://TU-SERVIDOR-IP:60522
CORS_ORIGINS=["http://TU-SERVIDOR-IP:60521","http://TU-SERVIDOR-IP:60523","https://tu-dominio.com"]

# === CONFIGURACIÓN DE ENTORNO ===
NODE_ENV=production
PYTHONPATH=/app
DEBUG=false
LOG_LEVEL=INFO

# === CONFIGURACIÓN DEL SERVIDOR ===
UVICORN_HOST=0.0.0.0
UVICORN_PORT=60522
UVICORN_WORKERS=2

# === SEGURIDAD ADICIONAL ===
SECURE_COOKIES=true
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=5
PASSWORD_MIN_LENGTH=8

# === RATE LIMITING ===
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# === LOGGING ===
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# === NOTIFICACIONES ===
ENABLE_EMAIL_NOTIFICATIONS=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu-email@gmail.com
SMTP_PASSWORD=tu-app-password
EMAIL_FROM=noreply@tu-dominio.com

# === WHATSAPP BUSINESS (WAHA) ===
WAHA_SERVER_URL=http://pampaservers.com:60513
WAHA_API_KEY=tu-api-key-waha

# === N8N AUTOMATION ===
N8N_SERVER_URL=https://dev-n8n.pampaservers.com
N8N_API_KEY=tu-api-key-n8n

# === STRAPI BACKEND ===
STRAPI_URL=http://pampaservers.com:60520
STRAPI_API_TOKEN=tu-strapi-token

# === CONFIGURACIÓN DE BACKUP ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=/opt/backups/dashboard-clinica

# === SSL/TLS (si usas proxy reverso) ===
USE_SSL=false
SSL_CERT_PATH=/etc/ssl/certs/dashboard-clinica.crt
SSL_KEY_PATH=/etc/ssl/private/dashboard-clinica.key

# === MONITOREO ===
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30
PROMETHEUS_METRICS=false

# === CACHE ===
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600
ENABLE_CACHE=false

# === DESARROLLO Y DEBUG (mantener en false para producción) ===
ENABLE_DEBUG_ROUTES=false
ENABLE_TEST_ENDPOINTS=false
CORS_ALLOW_ALL=false

# === CONFIGURACIÓN ESPECÍFICA POR SERVICIO ===

# Frontend Cliente
VITE_APP_NAME=Dashboard Clínica
VITE_APP_VERSION=1.0.0
VITE_ENABLE_ANALYTICS=true
VITE_SENTRY_DSN=https://tu-sentry-dsn@sentry.io/proyecto

# Backend API
API_PREFIX=/api/v1
API_DOCS_URL=/docs
API_REDOC_URL=/redoc
OPENAPI_URL=/openapi.json

# Admin Frontend  
ADMIN_PREFIX=/admin
ADMIN_SESSION_TIMEOUT=7200

# === LÍMITES DE RECURSOS ===
MAX_REQUEST_SIZE=10MB
MAX_UPLOAD_SIZE=50MB
CONNECTION_TIMEOUT=30
REQUEST_TIMEOUT=60

# === CONFIGURACIÓN DE CONTENEDORES ===
CONTAINER_MEMORY_LIMIT=512m
CONTAINER_CPU_LIMIT=1.0
RESTART_POLICY=unless-stopped

# === NOTAS DE CONFIGURACIÓN ===
# 1. Cambiar todas las claves secretas por valores únicos y seguros
# 2. Actualizar TU-SERVIDOR-IP con la IP real del servidor
# 3. Configurar certificados SSL si usas HTTPS
# 4. Habilitar monitoreo y logging para producción
# 5. Configurar backups automáticos
# 6. Revisar límites de recursos según capacidad del servidor
# 7. Habilitar notificaciones para alertas críticas

# === COMANDOS ÚTILES ===
# Generar clave secreta: openssl rand -hex 32
# Ver IP del servidor: curl ifconfig.me
# Verificar puertos: netstat -tulpn | grep -E '60521|60522|60523'
# Test de conectividad: curl http://localhost:60522/health